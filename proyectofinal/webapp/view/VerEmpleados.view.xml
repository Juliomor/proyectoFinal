<mvc:View controllerName = "alight.proyectofinal.controller.VerEmpleados"
    xmlns:mvc = "sap.ui.core.mvc" 
    xmlns = "sap.m" 
    xmlns:f = "sap.f" 
    xmlns:upload = "sap.m.upload" 
    xmlns:core = "sap.ui.core" displayBlock = "true">
    <SplitApp id = "verEmpleados" initialDetail = "detail" initialMaster = "master">
        <masterPages>
            <Page id = "master" showHeader = "false">
                <List id = "listaEmpleados" items = "{employeeModel>/Users}">
                    <headerToolbar>
                        <Toolbar id = "_IDGenToolbar1">
                            <Button id = "_IDGenButton1" icon = "sap-icon://nav-back" press = ".onNavBack"/>
                            <SearchField id = "_IDGenSearchField1" liveChange = ".onSearch" />
                        </Toolbar>
                    </headerToolbar>
                    <items>
                        <StandardListItem id = "empleadoItem" title = "{employeeModel>FirstName} {employeeModel>LastName}" description = "{employeeModel>Dni}"  
                                            press = ".onDetailsEmployee" type = "Navigation"/>
                    </items>
                </List>
            </Page>
        </masterPages>
        <detailPages>
            <Page id = "detail" showHeader = "false">
                <FlexBox id = "_IDGenFlexBox1" alignItems = "Center" justifyContent = "Center" height = "100%">
                    <Text id = "_IDGenText1" text = "{i18n>selectEmployee}" />
                </FlexBox>
            </Page>
            <Page id = "employeeDetail">
                <ObjectHeader id = "employeeHeader" icon = "{= ${employeeModel>Type} === '0' ? 'sap-icon://employee-pane' : 
                                 ${employeeModel>Type} === '1' ? 'sap-icon://employee' : 
                                 ${employeeModel>Type} === '2' ? 'sap-icon://leads' : 'sap-icon://sys-help'}" title = "{employeeModel>FirstName} {employeeModel>LastName}" intro = "{employeeModel>Dni}" responsive = "true">
                    <attributes>
                        <ObjectAttribute id = "_IDGenObjectAttribute1"  title = "{i18n>incorporacion}" text = "{ path: 'employeeModel>CreationDate', type: 'sap.ui.model.type.Date' }" />
                        <ObjectAttribute id = "_IDGenObjectAttribute2"  title = "{i18n>tipo}" text = "{= ${employeeModel>Type} === '0' ? ${i18n>empleadoInterno} : 
                                                                                                            ${employeeModel>Type} === '1' ? ${i18n>empleadoAutonomo} : 
                                                                                                            ${employeeModel>Type} === '2' ? ${i18n>empleadoGerente} : '' }" />
                        <ObjectAttribute id = "_IDGenObjectAttribute3"  title = "{i18n>comentario}" text =  "{employeeModel>Comments}"/>
                    </attributes>
                </ObjectHeader>
                <IconTabBar id = "employeeActions" class = "sapUiResponsiveContentPadding">
                    <items>
                        <IconTabFilter id = "tabFicheros" icon = "sap-icon://attachment" text = "{i18n>ficheros}">
                            <upload:UploadSet id = "ficherosEmpleado" instantUpload = "false" maxFileNameLength = "55" maxFileSize = "10" class = "sapUiSmallMarginBottom" 
                                                uploadUrl = "/sap/opu/odata/sap/ZEMPLOYEES_SRV/Attachments" />
                        </IconTabFilter>
                        <IconTabFilter id = "tabHistorial" icon = "sap-icon://money-bills" text = "{i18n>historial}">
                        </IconTabFilter>
                    </items>
                </IconTabBar>
                <footer>
                    <Bar id = "_IDGenBar1">
                        <contentRight>
                            <Button id = "_IDGenButton2" text = "{i18n>baja}" press = "onBajaEmployee"/>
                            <Button id = "_IDGenButton3" text = "{i18n>ascender}" press = "onAscenderEmployee"/>
                        </contentRight>
                    </Bar>
                </footer>
            </Page>
        </detailPages>
    </SplitApp>
</mvc:View>